# ClaudeBar

<p align="center">
  <img src="../assets/icons/claudebar-macOS-Dark-1024x1024@1x.png" alt="Иконка ClaudeBar" width="128" height="128">
</p>

<p align="center">
  <strong>Нативное приложение строки меню macOS для мониторинга лимитов использования Claude в реальном времени.</strong>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/macOS-14.0+-blue" alt="macOS">
  <img src="https://img.shields.io/badge/Swift-5.9+-orange" alt="Swift">
  <img src="https://img.shields.io/badge/License-MIT-green" alt="Лицензия">
</p>

<p align="center">
  <a href="../README.md">English</a> •
  <a href="README-TR.md">Türkçe</a> •
  <a href="README-ZH.md">中文</a> •
  <a href="README-HI.md">हिन्दी</a> •
  <a href="README-ES.md">Español</a> •
  <a href="README-FR.md">Français</a> •
  <a href="README-AR.md">العربية</a> •
  <a href="README-PT.md">Português</a> •
  <a href="README-JA.md">日本語</a> •
  <a href="README-RU.md">Русский</a> •
  <a href="README-IT.md">Italiano</a>
</p>

> **Примечание:** Этот перевод создан с помощью ИИ и может содержать ошибки или неточности. Отправляйте Pull Request для исправлений.

---

## Возможности

- **Мониторинг в реальном времени** - Просматривайте текущие лимиты сессии и недельные лимиты одним взглядом
- **Значок плана** - Отображает вашу текущую подписку (Pro, Max, Team)
- **Поддержка дополнительного использования** - Отслеживайте кредиты с оплатой по мере использования
- **Цветные индикаторы прогресса** - Зелёный, жёлтый, оранжевый, красный в зависимости от процента использования
- **Многоязычная поддержка** - Английский, турецкий, китайский, испанский, русский с выбором языка в приложении
- **Настраиваемые уведомления** - Получайте уведомления при 50%, 75%, 100% или при сбросе
- **Автообновление** - Настраиваемый интервал обновления (30с, 1м, 2м, 5м)
- **Запуск при входе** - Опционально запускайте вместе с Mac
- **Процент в строке меню** - Показать/скрыть процент рядом с иконкой
- **Нативный опыт** - Создан на SwiftUI, следует рекомендациям дизайна macOS
- **Легковесный** - Минимальное потребление ресурсов, без Electron
- **Конфиденциальность** - Без аналитики, без телеметрии

## Скриншоты

<p align="center">
  <img src="../screenshots/app-screenshot.png" alt="Общий вид ClaudeBar" width="380">
</p>

<p align="center">
  <em>Мониторинг использования в реальном времени со значком плана</em>
</p>

<details>
<summary><strong>Больше скриншотов</strong></summary>

<br>

| Настройки | Уведомления | О программе |
|:---------:|:-----------:|:-----------:|
| <img src="../screenshots/settings-screenshot.png" alt="Настройки" width="250"> | <img src="../screenshots/notifications-screenshot.png" alt="Уведомления" width="250"> | <img src="../screenshots/about-screenshot.png" alt="О программе" width="250"> |

</details>

## Требования

- macOS 14.0 (Sonoma) или новее
- [Claude Code](https://claude.ai/code) установлен и выполнен вход
- Активная подписка Claude Pro, Max или Team

## Установка

### Скачать готовый бинарник

Скачайте последний `.app` со страницы [Releases](https://github.com/kemalasliyuksek/claudebar/releases), затем перетащите в папку Программы.

> **Примечание:** Если macOS показывает «ClaudeBar повреждён и не может быть открыт», выполните следующую команду для удаления флага карантина:
> ```bash
> xattr -cr ClaudeBar.app
> ```

### Сборка из исходного кода

```bash
git clone https://github.com/kemalasliyuksek/claudebar.git
cd claudebar
./build.sh
```

Пакет приложения будет создан в `.build/release/ClaudeBar.app`.

Для установки:
```bash
cp -r .build/release/ClaudeBar.app /Applications/
```

## Использование

1. Убедитесь, что вы вошли в Claude Code (команда `claude` должна работать в терминале)
2. Запустите ClaudeBar из Программ или Spotlight
3. Нажмите на иконку датчика в строке меню для просмотра лимитов

### Настройки

Нажмите на иконку ⚙️ для настройки:

| Настройка | Описание |
|-----------|----------|
| Запуск при входе | Автоматический запуск при входе в систему |
| Показывать % в строке меню | Отображать процент рядом с иконкой в строке меню |
| Язык | Выберите язык приложения (Система, English, Türkçe, 中文, Español, Русский) |
| Интервал обновления | Как часто получать данные об использовании (30с - 5м) |
| Уведомлять при 50% | Отправить уведомление при 50% использования |
| Уведомлять при 75% | Отправить уведомление при 75% использования |
| Уведомлять при достижении лимита | Отправить уведомление при достижении лимита |
| Уведомлять при сбросе | Отправить уведомление при сбросе лимита |

### О программе

Нажмите на иконку ⓘ для просмотра информации о приложении, благодарностей и ссылок.

## Как это работает

ClaudeBar читает учетные данные OAuth из связки ключей macOS, которые Claude Code сохраняет при входе. Затем он запрашивает API Anthropic для получения текущих лимитов использования.

### Архитектура

```
┌─────────────────┐                      ┌───────────────────────────┐
│                 │  Stores tokens       │                           │
│   Claude Code   │─────────────────────▶│     macOS Keychain        │
│   (CLI login)   │                      │ "Claude Code-credentials" │
└─────────────────┘                      └───────────────────────────┘
                                                     │
                                                     │ Reads tokens
                                                     ▼
┌─────────────────┐                      ┌───────────────────────────┐
│                 │ GET /api/oauth/usage │                           │
│  Anthropic API  │◀─────────────────────│        ClaudeBar          │
│                 │─────────────────────▶│                           │
└─────────────────┘    Usage data        └───────────────────────────┘
```

## Важные замечания

### Доступ к связке ключей

При первом запуске macOS может запросить разрешение для ClaudeBar на доступ к связке ключей. Нажмите **Всегда разрешать** для бесперебойной работы.

### Конфиденциальность

- Читает только существующие учетные данные из связки ключей
- Вся коммуникация через HTTPS
- Данные не хранятся за пределами системной связки ключей
- Без аналитики и телеметрии
- Полностью с открытым исходным кодом

## Вклад

Вклады приветствуются! Не стесняйтесь отправлять Pull Request.

1. Сделайте форк репозитория
2. Создайте ветку функции (`git checkout -b feature/amazing-feature`)
3. Зафиксируйте изменения (`git commit -m 'Add amazing feature'`)
4. Отправьте в ветку (`git push origin feature/amazing-feature`)
5. Откройте Pull Request

## Лицензия

Этот проект лицензирован по лицензии MIT - подробности в файле [LICENSE](../LICENSE).

## Автор

**Kemal Aslıyüksek** - [@kemalasliyuksek](https://github.com/kemalasliyuksek)

## Отказ от ответственности

Это неофициальный общественный проект, не связанный с Anthropic, не поддерживаемый и не одобренный Anthropic официально. Используйте на свое усмотрение.
